<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Code Dependencies and Runtimes</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<link href="site_libs/vis-4.20.1/vis.css" rel="stylesheet" />
<script src="site_libs/vis-4.20.1/vis.min.js"></script>
<script src="site_libs/visNetwork-binding-2.0.9/visNetwork.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


<link rel="stylesheet" href="style.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-inverse  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Barents Sea</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fas fa-home"></span>
     
  </a>
</li>
<li>
  <a href="Sources.html">
    <span class="fas fa-cart-arrow-down"></span>
     
    Sources
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fas fa-project-diagram"></span>
     
    Code
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="network.html">Dependencies</a>
    </li>
    <li>
      <a href="time.html">Run times</a>
    </li>
  </ul>
</li>
<li>
  <a href="Checks.html">
    <span class="fas fa-check-square"></span>
     
    Checks
  </a>
</li>
<li>
  <a href="Notes.html">
    <span class="fas fa-clipboard"></span>
     
    Notes
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://jack-h-laverick.github.io/MiMeMo.EastGreenlandShelf/">Greenland</a>
</li>
<li>
  <a href="https://jack-h-laverick.github.io/MiMeMo.tools/">
    <span class="fas fa-cube fa-lg"></span>
     
    MiMeMo.tools
  </a>
</li>
<li>
  <a href="https://jack-h-laverick.github.io/nemomedusR/">
    <span class="fas fa-cube fa-lg"></span>
     
    nemomedusR
  </a>
</li>
<li>
  <a href="https://github.com/Jack-H-Laverick/MiMeMo.BarentsSea">
    <span class="fas fa-github-square"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Code Dependencies and Runtimes</h1>
<h4 class="date">last updated: Wednesday 10 Feb</h4>

</div>


<!-- README.md is generated from README.Rmd. Please edit that file -->
<p>Code to process raw data from the East Greenland Shelf for StrathE2E Polar</p>
<p>This page details at a broad level the code written to extract data and parameterise StrathE2E<em>Polar</em> as part of MiMeMo. You can find information on the depedencies, runtimes, and tasks performed by each of the scripts. Scripts are loosely classified into families - <em>bathymetry</em> - <em>fish</em> - <em>flows</em> - <em>NM</em> - <em>Sediment</em> - <em>StrathE2E</em>. These can all be run from a master script, with a region file allowing the user to define the model domain for data extraction.</p>
<div id="script-dependencies" class="section level2">
<h2>Script dependencies</h2>
<p>The widget below illustrates the hierarchy for MiMeMo scripts. It’s interactive, so feel free to zoom in, drag the view, and highlight a script by clicking on a node. You can also move the nodes. When a script is highlighted, so are others within 1 degree of separation (scripts immediately upstream and downstream in the pipeline). You can also highlight a specific script from the drop down menu. Nodes are colour coded by family, and layers in the hierarchy indicate how many scripts must be run in advance. The network is created programmaticaly by looking for objects across all scripts present in both a <code>saveRDS</code> and <code>readRDS</code> call.</p>
<div id="htmlwidget-c87220e9a842632bf2f6" style="width:100%;height:800px;" class="visNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-c87220e9a842632bf2f6">{"x":{"nodes":{"id":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54],"label":["bathymetry.01 DATA WRANGLING.R","bathymetry.02 PLOTTING.R","bathymetry.03 DOMAIN CHOICES.R","bathymetry.04 DEFINE DOMAIN.R","fish.0 MiMeMo GUILDS.R","fish.01 FAO REGIONS.R","fish.02 ICES.R","fish.03 GFW WRANGLING.R","fish.04 GFW FRESH FIGURE.R","fish.05 GFW PLOTTING.R","fish.06 IMR TABLES.R","fish.07 IMR GUILDS.R","fish.08 GFW TO NETCDF.R","fish.09 GFW EFFORT PROPORTIONS.R","fish.10 ICES LANDINGS PROPORTIONS.R","fish.11 IMR TRENDS.R","fish.12 EU LANDINGS.R","fish.12 IMR EFFORT AND LANDINGS.R","fish.13 INTERNATIONAL LANDINGS.R","fish.14 EU EFFORT.R","fish.15 INTERNATIONAL EFFORT.R","fish.16 IMR HABITAT EFFORTS.R","fish.17 EU HABITAT EFFORTS.R","fish.18 INTERNATIONAL HABITAT EFFORT.R","flows.01 VC-EXTRACTION.R","flows.02 MAKE TRANSECTS.R","flows.03 LABEL TRANSECTS.R","flows.04 SAMPLE PERIMETER.R","flows.05 SAMPLE FLUXES.R","flows.06 VOLUME CHECK.R","flows.07 PLOT EXCHANGES.R","flows.08 WAVES.R","nemo-medusa.01 GRID.R","nemo-medusa.02 EXTRACTION.R","nemo-medusa.02 general.R","nemo-medusa.03 SPATIAL.R","nemo-medusa.04 TIME SERIES.R","nemo-medusa.05 PLOTTING.R","nemo-medusa.06 LIGHT AND TEMP.R","saltless.01 ATMOSPHERE.R","saltless.02 RIVER VOLUMES.R","saltless.03 RIVER N CONCENTRATION.R","saltless.04 RIVER DIN FIX.R","saltless.05 SPM.R","saltless.06 HABITAT TYPES.R","saltless.07 DISTURBANCE.R","saltless.08 OTHER SEDIMENT SUMMARIES.R","strathE2E.00 QUICKSTART.R","strathE2E.01 DIN FIX.R","strathE2E.01 INITIALISE MODEL.R","strathE2E.02 COMPILE BOUNDARY FILE.R","strathE2E.03 COMPILE PHYSICS FILE.R","strathE2E.04 COMPILE PHYSICAL PARAMETERS.R","strathE2E.05 MODEL CLEANUP.R"],"group":["bathymetry","bathymetry","bathymetry","bathymetry","fish","fish","fish","fish","fish","fish","fish","fish","fish","fish","fish","fish","fish","fish","fish","fish","fish","fish","fish","fish","flows","flows","flows","flows","flows","flows","flows","flows","nemo-medusa","nemo-medusa","nemo-medusa","nemo-medusa","nemo-medusa","nemo-medusa","nemo-medusa","saltless","saltless","saltless","saltless","saltless","saltless","saltless","saltless","strathE2E","strathE2E","strathE2E","strathE2E","strathE2E","strathE2E","strathE2E"],"level":[1,2,2,3,1,1,1,2,4,3,1,1,1,5,1,1,4,4,5,4,4,5,5,5,4,4,5,6,6,7,7,4,2,4,4,5,5,6,4,4,4,4,5,4,4,5,5,1,4,1,7,7,6,1]},"edges":{"Object":["/Objects/Bathymetry_lines","/Objects/Bathymetry_lines","/Objects/Bathymetry_points","/Objects/Bathymetry_points","/Objects/Bathymetry_points","/Objects/Bathymetry_points","/Objects/Bathymetry_lines_proj","/Objects/Bathymetry and distance from shore","/Objects/Domains","/Objects/Domains","/Objects/Domains","/Objects/Domains","/Objects/Domains","/Objects/Domains","/Objects/Domains","/Objects/Domains","/Objects/Domains","/Objects/Domains","/Objects/Domains","/Objects/Domains","/Objects/Domains","/Objects/Domains","/Objects/Domains","/Objects/Domains","/Objects/Domains","/Objects/Domains","/Objects/Domains","/Objects/Domains","/Objects/Domains","/Objects/Domains","/Objects/Domains","/Objects/FAO","/Objects/FAO","/Objects/Seasonal","/Objects/Seasonal","/Objects/Regional_ts","/Objects/ICES landings inflation","/Objects/EU landings by gear and guild","/Objects/IMR regional absolute effort and landings","/Objects/IMR landings by gear and guild","/Objects/International effort by gear","/Objects/V-Flows","/Objects/V-Flows","/Objects/Split_boundary","/Objects/Boundary_transects","/Objects/Boundary_transects","/Objects/Boundary measurements","/Objects/H-Flows","/Objects/H-Flows","/Objects/H-Flows","/Objects/Significant wave height","/Objects/Fixed_grid","/Objects/Fixed_grid","/Objects/Fixed_grid","/Objects/Fixed_grid","/Objects/Fixed_grid","/Objects/Fixed_grid","/Objects/Months","/Objects/Months","/Objects/Months","/Objects/Months","/Objects/SPATIAL","/Objects/TS","/Objects/TS","/Objects/Air temp and light","/Objects/Atmospheric N deposition","/Objects/River volume input","/Objects/River DIN","/Objects/River nitrate and ammonia","/Objects/Suspended particulate matter","/Objects/Habitats","/Objects/Habitats","/Objects/Habitats","/Objects/Habitats","/Objects/Habitats","/Objects/Habitats","/Objects/Sediment area proportions","/Objects/Habitat disturbance","/Objects/Other habitat parameters","/Objects/Ammonia to DIN"],"from":[1,1,1,1,1,1,2,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,6,6,8,8,8,15,17,18,18,21,25,25,26,27,27,28,29,29,29,32,33,33,33,33,33,33,34,34,35,35,36,37,37,39,40,41,42,43,44,45,45,45,45,45,45,45,46,47,49],"to":[2,10,2,3,4,33,38,4,9,17,18,19,20,21,22,25,26,27,30,32,34,35,39,40,41,42,44,45,49,52,53,8,10,9,10,10,19,19,22,19,24,31,52,27,28,29,51,30,31,52,52,25,27,28,29,34,35,36,37,36,37,38,38,52,52,51,52,43,51,52,14,22,23,24,46,47,53,52,53,51],"arrows":["middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle","middle"]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot"},"manipulation":{"enabled":false},"layout":{"hierarchical":{"enabled":true,"direction":"UD"}},"clickToUse":true,"groups":{"atmosphere":{"shape":"dot","color":{"background":"#D86020","border":"#D86020","highlight":{"background":"white","border":"#D86020"}}},"bathymetry":{"shape":"dot","color":{"background":"#C03020","border":"#C03020","highlight":{"background":"white","border":"#C03020"}}},"detritus":{"shape":"dot","color":{"background":"#F89040","border":"#F89040","highlight":{"background":"white","border":"#F89040"}}},"fish":{"shape":"dot","color":{"background":"#207890","border":"#207890","highlight":{"background":"white","border":"#207890"}}},"flows":{"shape":"dot","color":{"background":"#184068","border":"#184068","highlight":{"background":"white","border":"#184068"}}},"NM":{"shape":"dot","color":{"background":"#F8D068","border":"#F8D068","highlight":{"background":"white","border":"#F8D068"}}},"sediment":{"shape":"dot","color":{"background":null,"border":null,"highlight":{"background":"white","border":null}}},"spm":{"shape":"dot","color":{"background":null,"border":null,"highlight":{"background":"white","border":null}}},"strathE2E":{"shape":"dot","color":{"background":null,"border":null,"highlight":{"background":"white","border":null}}},"useDefaultGroups":true,"targets":{"shape":"dot","color":{"background":null,"border":null,"highlight":{"background":"white","border":null}}}}},"groups":["bathymetry","fish","flows","nemo-medusa","saltless","strathE2E"],"width":"100%","height":"800","idselection":{"enabled":true,"style":"width: 150px; height: 26px","useLabels":true,"main":"Select by id"},"byselection":{"enabled":true,"style":"width: 150px; height: 26px","multiple":false,"hideColor":"rgba(200,200,200,0.5)","highlight":false,"variable":"group","main":"Select by group","values":["bathymetry","fish","flows","nemo-medusa","saltless","strathE2E"]},"main":null,"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","legend":{"width":0.15,"useGroups":true,"position":"left","ncol":1,"stepX":100,"stepY":100,"zoom":false},"highlight":{"enabled":true,"hoverNearest":false,"degree":1,"algorithm":"all","hideColor":"rgba(200,200,200,0.5)","labelOnly":false},"collapse":{"enabled":false,"fit":false,"resetHighlight":true,"clusterOptions":null,"keepCoord":true,"labelSuffix":"(cluster)"}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="run-times" class="section level2">
<h2>Run Times</h2>
<p><img src="man/figures/README-code%20runtimes-1.png" width="100%" /></p>
</div>
<div id="script-objectives" class="section level2">
<h2>Script Objectives</h2>
<p>In the future I plan to detail blow by blow what exactly each script does. This will likely take the form of a dropdown list of vignettes on this website. As there are about 40 scripts at the moment this isn’t going to happen immediately. For now this section is here to briefly mention the purpose of each script.</p>
<div id="bathymetry" class="section level3">
<h3>bathymetry</h3>
<ul>
<li>bathymetry.1 DATA WRANGLING</li>
<li>bathymetry.2 PLOTTING</li>
<li>bathymetry.3 RAYSHADER</li>
<li>bathymetry.4 DOMAIN CHOICES</li>
<li>bathymetry.5 DEFINE DOMAIN</li>
</ul>
</div>
<div id="fish" class="section level3">
<h3>fish</h3>
<ul>
<li>fish.1 FAO REGIONS</li>
<li>ices SUMMARIES AND PLOTTING</li>
<li>gfw.1 DATA WRANGLING</li>
<li>gfw.2 PLOTTING</li>
</ul>
</div>
<div id="flows" class="section level3">
<h3>flows</h3>
<ul>
<li>flows.1 VC-EXTRACTION</li>
<li>flows.2 MAKE TRANSECTS</li>
<li>flows.3 LABEL TRANSECTS</li>
<li>flows.4 SAMPLE PERIMETER</li>
<li>flows.5 SAMPLE FLUXES</li>
<li>flows.6 VOLUME CHECK</li>
<li>flows.7 PLOT EXCHANGES</li>
</ul>
</div>
<div id="nm" class="section level3">
<h3>NM</h3>
<ul>
<li>NM.1 GRID</li>
<li>NM.2 EXTRACTION</li>
<li>NM.3 SPATIAL</li>
<li>NM.4 TIME SERIES</li>
<li>NM.5 PLOTTING</li>
<li>NM.6 LIGHT AND TEMP</li>
</ul>
</div>
<div id="sediment" class="section level3">
<h3>Sediment</h3>
<ul>
<li>sediment.1 GRID</li>
<li>sediment.2 RANDOM FOREST</li>
</ul>
</div>
<div id="strathe2e" class="section level3">
<h3>StrathE2E</h3>
<ul>
<li>strathE2E.2 COMPILE DRIVING DATA</li>
<li>strathE2E.3 COMPILE PHYSICAL PARAMETERS</li>
</ul>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
